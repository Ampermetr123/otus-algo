# Двоичные деревья

__*Каждая ячейка содержит время в мс по операциям [ INSERT(N) /  SEARCH(N/10) / REMOVE(N/10) ]


## Дерево случайных чисел  

|   N   |      BS Tree          |   AVL Tree        |   std::set (Red-Black Tree)  |
| :---- | :-------------------- |:----------------- |:---------------------------- |
| 10'000 |   5 / 0 / 0          |    9 / 0 / 0          |     2 / 0 / 0     |
| 100'000 |  94 / 7 / 11        |    142 / 4 / 17         |     95 / 7 / 11     |
| 1 млн  |  1933 / 127 / 219    |    1'972 / 95 / 212      |  1'301 / 127 / 143     |
| 10 млн |  23627 / 1802 / 3017 |    29'296 / 1'686 / 3'304   |  17'468 / 240 / 347 |


## Дерево последовательных чисел  

|   N   |      BS Tree          |   AVL Tree        |   std::set (Red-Black Tree)  |
| :---- | :-------------------- |:----------------- |:---------------------------- |
| 10'000 |   344 / 35 / 343     |    8 / 0 / 0       |     1 / 0 / 0     |
| 100'000 |  62'632 / 5'377 / 54'959  |  93 / 4 / 9  |         22 / 1 / 4     |
| 1 млн  |  -                   |  923 / 25 / 59   |      266 / 20 / 32     |
| 10 млн |  -                   |    7'750 / 246 / 588 |     2926 / 240 / 347 |



## Выводы

1) На случайных данных BSTree и AVLTree показывает приблизительно одинаковую производительность.
   Но упорядоченные данные "ломают" бинарные деревья. Самобалансирующиеся деревья можно рассматривать
   как защиту от плохих данных.

2) AVL дерево с последовательными данными ведет себя лучше, чем со случайными потому, что
    - в этом случае всегда выполняется малый левый поворот, который дешевле больших поворотов; 
    - получается "идеально" сбалансированное дерево с высотой лог2(n);

3) Сложность реализации всех деревьев для представленной выборки близка к линейной.  
   Но по некоторым точкам можно сказать, что сложность все-таки меньше линейной.
   Двоичное дерево на последовательных данных - квадратичная сложность.

4) По производительности моя реализация АВЛ - дерева сопоставима с реализацией std::set (красно-черные деревья).
   Конечно, операция вставки в красно-черных выполняется быстрее.
   Результат теста для 10 млн и случайных данных наводит на мысль, что в некоторых случаях 
   красно-черные деревья могут балансироваться лучше чем АВЛ.
